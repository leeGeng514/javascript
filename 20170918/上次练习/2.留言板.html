<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body{
            background-color: #9E9BF6;
        }


        .message1{
            float: left;
            width:500px;
            overflow: hidden;
            padding:5px;
            box-shadow: 0 0 5px #ccc;
            background-color: #fff;
        }
        .message2{
            float: left;
            width:500px;
            overflow: hidden;
            padding:5px;
            box-shadow: 0 0 5px red;
            background-color: yellow;
        }
        textarea{
            padding:10px;
            height:200px;
            width:460px;
            background-color: #6DE0FD;
        }

        input{
            display: block;
            width:460px;
            height:40px;
            border:1px solid #1C9ABE;
            background-color: #1C9ABE;
            color:#fff;
        }

        ul{
            list-style: none;
            padding:20px  0;
            margin: 0;
            height:300px;
            overflow: auto;

        }
        li{
            line-height: 40px;
        }
        a{
            float: right;
        }

    </style>
</head>
<body>

<div class="message1 msg">


    <div class="text">

        <textarea></textarea>
        <input type="button" value="提交">

    </div>

    <ul>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
    </ul>




</div>

<div class="message2 msg">


    <div class="text">

        <textarea></textarea>
        <input type="button" value="提交">

    </div>

    <ul>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
    </ul>




</div>

<div class="message2 msg">


    <div class="text">

        <textarea></textarea>
        <input type="button" value="提交">

    </div>

    <ul>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
    </ul>




</div>
<div class="message2 msg">


    <div class="text">

        <textarea></textarea>
        <input type="button" value="提交">

    </div>

    <ul>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
    </ul>




</div>
<div class="message2 msg">


    <div class="text">

        <textarea></textarea>
        <input type="button" value="提交">

    </div>

    <ul>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
        <li> <a href="javascript:;">删除</a> xxxxxxxx </li>
    </ul>




</div>
<script>


    /*
    *
    * 1.点击按钮
    *   获取value
    *   拼成留言列表li
    *   把li显示在ul中
    *
    * 2.li中 点击删除按钮  会删除当前内容
    *
    *
    * */

    var msg = document.querySelectorAll('.msg');


    for(var i=0;i<msg.length;i++){

        message(msg[i]);

    }








    //留言板功能
    function message(obj){


        var ul = obj.querySelector('ul');
        var btn = obj.querySelector('input');
        var textBox = obj.querySelector('textarea');

        //添加点击事件  生成留言列表
        btn.onclick = function(){


            //获取留言内容
            var text = textBox.value;

            //拼接留言列表
            var list = '<li><a href="javascript:;">删除</a> '+text+'</li>';

            ul.innerHTML += list;

            //用事件代理来完成以下事情

//        var lis = ul.querySelectorAll('li');
//
//        for(var i=0;i<lis.length;i++){
//
//            //找到删除按钮
//            var delA = lis[i].querySelector('a');
//            //点击删除按钮
//            delA.onclick = function(){
//                ul.removeChild(this.parentNode);
//            };
//
//        }

        };


//    var lis = ul.querySelectorAll('li');
//
//    for(var i=0;i<lis.length;i++){
//
//        //找到删除按钮
//        var delA = lis[i].querySelector('a');
//        //点击删除按钮
//        delA.onclick = function(){
//            ul.removeChild(this.parentNode);
//        };
//
//    }


        //事件代理 ul删除对应子集

        ul.onclick = function(ev){

            //通过事件对象找到删除按钮

            var delA = ev.target; //找到了a标签 说明 是删除按钮触发的点击事件

            if(delA.nodeName.toLocaleLowerCase()=='a'){

                ul.removeChild(delA.parentNode);

            }






        };
    }







</script>

</body>
</html>