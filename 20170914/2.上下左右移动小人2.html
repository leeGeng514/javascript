<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div{
            width:50px;
            height:50px;
            background:red;
            position: absolute;
        }
    </style>
</head>
<body>
<div></div>


<script>

    var div = document.querySelector('div');



    /*
    * 打开一定时器
    *
    * 创建一个对象  {上下左右}
    *
    *
    *
    * */

    //方向盘
    var dir = {
        left:false,
        right:false,
        top:false,
        bottom:false
    };

    //运动速度
    var speed = 10;

    //控制方向盘开启
    document.onkeydown = function(ev){

        //往右
        if(ev.keyCode==39){
            dir.right = true;
        }

        //往下
        if(ev.keyCode==40){
            dir.bottom = true;
        }

        //往左
        if(ev.keyCode==37){
            dir.left = true;
        }
        //往上
        if(ev.keyCode==38){
            dir.top = true;
        }


    };

    //控制方向盘关闭
    document.onkeyup = function (ev) {

        if(ev.keyCode==39){
            dir.right = false;
        }

        if(ev.keyCode==40){
            dir.bottom = false;
        }

        if(ev.keyCode==37){
            dir.left = false;
        }

        if(ev.keyCode==38){
            dir.top = false;
        }
    };


    var maxLeft = window.innerWidth - div.offsetWidth;
    var maxTop = window.innerHeight - div.offsetHeight;

    var l,t;

    setInterval(function(){

        if(dir.right){
            l = div.offsetLeft + speed;
            if(l>maxLeft) l = maxLeft;

            div.style.left = l + 'px';
        }
        if(dir.top){
            t = div.offsetTop - speed;
            if(t<0) t = 0;
            div.style.top = t + 'px';
        }
        if(dir.left){
            l = div.offsetLeft - speed;
            if(l<0) l = 0;
            div.style.left = l + 'px';
        }
        if(dir.bottom){
            t = div.offsetTop + speed;
            if(t>maxTop) t = maxTop;
            div.style.top = t + 'px';
        }


    },10);






</script>
</body>
</html>