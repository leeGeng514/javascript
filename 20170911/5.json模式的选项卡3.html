<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<!--<input type="button" index="0" value="内容1">-->
<!--<input type="button" index="1" value="内容2">-->
<!--<input type="button" index="2" value="内容3">-->
<ul>
    <li>123123</li>
    <li>123123</li>
    <li>123123</li>
    <li>123123</li>
</ul>


<script>



    var json = {
        "list":[
            {
                "id":1,
                "key":"shuiguo",
                "name":"水果"
            },
            {
                "id":2,
                "key":"shucai",
                "name":"蔬菜"
            },
            {
                "id":3,
                "key":"dami",
                "name":"大米"
            }
        ],
        "shuiguo":[
            {
                "author":"yinwei",
                "content":"11111111111111111111111111"
            },
            {
                "author":"yinwei",
                "content":"11111111111111111111111111"
            },
            {
                "author":"yinwei",
                "content":"11111111111111111111111111"
            }
        ],
        "shucai":[
            {
                "author":"yinwei",
                "content":"222222222222222"
            },
            {
                "author":"yinwei",
                "content":"2222222222222222222222222"
            },
            {
                "author":"yinwei",
                "content":"2222222222222"
            }
        ],
        "dami":[
            {
                "author":"yinwei",
                "content":"33333333333333333333"
            },
            {
                "author":"yinwei",
                "content":"333333333333333333"
            },
            {
                "author":"yinwei",
                "content":"3333333333333333333"
            }
        ]
    };


    //生成按钮
    var html = '';
    for(var i=0;i<json['list'].length;i++){
        console.log(json['list'][i].key);
         html += '<input type="button" index="'+json['list'][i].key+'" value="'+json['list'][i].name+'"> ';
    }
    document.body.innerHTML = html + document.body.innerHTML;




    var btns = document.querySelectorAll('input');

    //要显示列表内容的框
    var ul = document.querySelector('ul');


    //初始化显示：
//    var n = 'shuiguo';//默认显示的数据
    var list = json[json['list'][0]['key']];
    showList(list);




    for(var i=0;i<btns.length;i++){
        btns[i].onclick = function(){

            //显示对应内容
//            console.log(this.index,this.getAttribute('index'));

            //每次点击只需要修改要显示的内容 （在json中找到对应的内容列表）
            list = json[this.getAttribute('index')];

            showList(list);
        };
    }


    //渲染列表
    function showList(list) {

            console.log(list);
        var html = '';
        for(var i=0;i<list.length;i++){
            html += '<li><span>作者：'+list[i]["author"]+'</span><span>内容：'+
                list[i]["content"]+'</span></li>'
        }
        ul.innerHTML = html;
    }







</script>
</body>
</html>